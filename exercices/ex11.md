# Exercice 11 : *Mongoose*

## Énoncé

1. Reprenez [l'exercice 9](./ex9.md), récupérez ce [script JS](./ressources/ex11.js) qui permet d'ajouter des événements click sur vos boutons.
2. Placez ce script dans le dossier */public/javascripts* et ajoutez une balise script dans votre page ou layout.
3. Ajoutez un bouton dans la vue dédié à l'affichage de tous les utilisateurs, le rendu final doit-être identique à l'extrait de code ci-après.

```html
<button class="btn-fav" data-login=":user_login">
   Ajoutez à mes favoris
</button>
```
4. À l'aide du [script JS](./ressources/ex11.js) précédent et d'une base de données (BDD) MongoDB nouvellement créée, stockez les utilisateurs favoris dans cette BDD à l'aide de Mongoose, pour cela
   1. Créez un nouveau *Router* qui gère les routes associées à l'entité *User* 
   2. Créez un schéma qui représente un utilisateur
   3. Créez une nouvelle route ***POST /users/favourites*** qui sauvegarde un utilisateur dans les favoris.
   4. Créez une nouvelle route ***GET /users/favourites*** qui affiche les utilisateurs favoris.

---

## Bonus

1. Reprenez votre projet sur l'[exercice 10](./ex10.md) sur la ligue de champions en créant les schémas, stockant les données dans une nouvelle base de données *MongoDB*.
2. Toujours depuis l'exercice 10, ajoutez des actions pour supprimer et modifier un utilisateur ou un article stocké en *BDD*